# vim: set filetype=dosini : 

[general]
accounts = Gmail,Work,BioinformatSpam,BioinformatFabianBull
pythonfile = ~/.config/offlineimap/offlineimap.py
maxsyncaccounts = 4

[DEFAULT]
sslcacertfile = /etc/ssl/cert.pem
ssl = yes
realdelete = no
postsynchook = ~/.scripts/notmuch-tagging.sh

[Account Gmail]
localrepository = GmailLocal
remoterepository = GmailRemote
autorefresh = 5

[Repository GmailLocal]
type = Maildir
localfolders = ~/Mail/bull_fabian_gmail
nametrans = lambda folder: {
    'archive': '[Google Mail]/All Mail'
                            }.get(folder, folder)

[Repository GmailRemote]
maxconnections = 5
type = Gmail
remotehost = imap.googlemail.com
remoteuser = bull.fabian@googlemail.com
remotepasseval = get_pass('Private/gmail_offlineimap')
nametrans = lambda folder: {
    '[Google Mail]/All Mail': 'archive'
                            }.get(folder, folder)

folderfilter = lambda folder: folder not in [
    '[Google Mail]/Trash',
    '[Google Mail]/Spam',
    '[Google Mail]/Important',
    '[Google Mail]/Starred',
    '[Google Mail]/Sent Mail',
    '[Google Mail]/Drafts',
    'INBOX'
    ]


[Account Work]
localrepository = DatameerLocal
remoterepository = DatameerRemote
autorefresh = 5

[Repository DatameerLocal]
type = Maildir
localfolders = ~/Mail/fabian_bull_datameer
nametrans = lambda folder: {
    'archive': '[Gmail]/All Mail'
                            }.get(folder, folder)

[Repository DatameerRemote]
maxconnections = 5
type = Gmail
remotehost = imap.googlemail.com
remoteuser = fabian.bull@datameer.com
remotepasseval = get_pass('Datameer/google')
nametrans = lambda folder: {
    '[Gmail]/All Mail':  'archive'
                            }.get(folder, folder)
folderfilter = lambda folder: folder not in [
    '[Gmail]/Trash',
    '[Gmail]/Spam',
    '[Gmail]/Important',
    '[Gmail]/Starred',
    '[Gmail]/Drafts',
    '[Gmail]/Sent Mail',
    'INBOX']

[Account BioinformatSpam]

localrepository = BioinformatSpamLocal
remoterepository = BioinformatSpamRemote

[Repository BioinformatSpamLocal]
type = Maildir
localfolders = ~/Mail/spam_bioinformat

[Repository BioinformatSpamRemote]
maxconnections = 5
type = IMAP
remotehost = nunki.uberspace.de
remoteuser = spam@bioinform.at
remotepasseval = get_pass('Private/Email/spam_bioinform_at')
folderfilter = lambda folder: folder not in [
    'Deleted Messages',
    'Drafts',
    'Junk']

[Account BioinformatFabianBull]

localrepository = BioinformatFabianBullLocal
remoterepository = BioinformatFabianBullRemote

[Repository BioinformatFabianBullLocal]
type = Maildir
localfolders = ~/Mail/fabian_bull_bioinformat

[Repository BioinformatFabianBullRemote]
maxconnections = 5
type = IMAP
remotehost = nunki.uberspace.de
remoteuser = fabian.bull@bioinform.at
remotepasseval = get_pass('Private/Email/fabian_bull_bioinform_at')
folderfilter = lambda folder: folder not in [
    'Deleted Messages',
    'Drafts',
    'Junk']
