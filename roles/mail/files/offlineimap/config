# vim: set filetype=dosini : 

[general]
accounts = Gmail,Work
pythonfile = ~/.config/offlineimap/offlineimap.py
maxsyncaccounts = 4

[DEFAULT]
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
ssl_version = tls1_2
ssl = yes
realdelete = no
postsynchook = ~/.scripts/notmuch-tagging.sh

[Account Gmail]
localrepository = GmailLocal
remoterepository = GmailRemote
autorefresh = 5

[Repository GmailLocal]
type = Maildir
localfolders = ~/mail/bull_fabian_gmail
nametrans = lambda folder: {
    'archive': '[Google Mail]/All Mail'
                            }.get(folder, folder)

[Repository GmailRemote]
maxconnections = 5
type = Gmail
remotehost = imap.googlemail.com
remoteuser = bull.fabian@googlemail.com
remotepasseval = get_pass('Private/gmail_offlineimap')
nametrans = lambda folder: {
    '[Google Mail]/All Mail': 'archive'
                            }.get(folder, folder)

folderfilter = lambda folder: folder not in [
    '[Google Mail]/Trash',
    '[Google Mail]/Spam',
    '[Google Mail]/Important',
    '[Google Mail]/Starred',
    '[Google Mail]/Sent Mail',
    '[Google Mail]/Drafts',
    'INBOX'
    ]


[Account Work]
localrepository = DatameerLocal
remoterepository = DatameerRemote
autorefresh = 5

[Repository DatameerLocal]
type = Maildir
localfolders = ~/mail/fabian_bull_datameer
nametrans = lambda folder: {
    'archive': '[Gmail]/All Mail'
                            }.get(folder, folder)

[Repository DatameerRemote]
maxconnections = 5
type = Gmail
remotehost = imap.googlemail.com
remoteuser = fabian.bull@datameer.com
remotepasseval = get_pass('Datameer/google')
nametrans = lambda folder: {
    '[Gmail]/All Mail':  'archive'
                            }.get(folder, folder)
folderfilter = lambda folder: folder not in [
    '[Gmail]/Trash',
    '[Gmail]/Spam',
    '[Gmail]/Important',
    '[Gmail]/Starred',
    '[Gmail]/Drafts',
    '[Gmail]/Sent Mail',
    'INBOX']
